[pytest]
python_files = tests.py test_*.py *_tests.py
asyncio_mode = auto
markers =
    security: marks tests as security-related (e.g., for adversarial simulations)
filterwarnings =
    ignore::DeprecationWarning
env =
    POSTGRES_SERVER=localhost
    POSTGRES_USER=testuser
    POSTGRES_PASSWORD=testpassword
    POSTGRES_DB=testdb
    REDIS_URL=redis://localhost:6379/1
    SECRET_KEY=testsecretkey
    ACCESS_TOKEN_EXPIRE_MINUTES=30
    CHROMA_HOST=localhost
    CHROMA_PORT=8000
    CELERY_BROKER_URL=redis://localhost:6379/2
    CELERY_RESULT_BACKEND=redis://localhost:6379/2